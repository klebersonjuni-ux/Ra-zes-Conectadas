{
    "saberes": [
        {
            "name": "Saber",
            "type": "object",
            "properties": {
                "titulo": {
                    "type": "string",
                    "description": "Nome do saber compartilhado"
                },
                "narrativa": {
                    "type": "string",
                    "description": "Descrição ou história do saber"
                },
                "tipo": {
                    "type": "string",
                    "enum": [
                        "medicina_tradicional",
                        "agricultura_ancestral",
                        "artesanato",
                        "musica_oral",
                        "historia_oral",
                        "praticas_espirituais",
                        "culinaria_tradicional",
                        "tecnologias_sociais"
                    ],
                    "default": "historia_oral",
                    "description": "Categoria do saber"
                },
                "territorio": {
                    "type": "string",
                    "enum": [
                        "quilombo",
                        "aldeia",
                        "periferia",
                        "floresta",
                        "campo",
                        "cidade",
                        "rio",
                        "montanha"
                    ],
                    "description": "Território de origem"
                },
                "guardiao": {
                    "type": "string",
                    "description": "Nome do guardião/mestre deste saber"
                },
                "audio_url": {
                    "type": "string",
                    "description": "URL do áudio com narrativa oral"
                },
                "imagem_url": {
                    "type": "string",
                    "description": "Imagem relacionada ao saber"
                },
                "comunidade": {
                    "type": "string",
                    "description": "Nome da comunidade de origem"
                },
                "tempo_circular": {
                    "type": "string",
                    "enum": [
                        "plantar",
                        "colher",
                        "chuvas",
                        "seca",
                        "lua_nova",
                        "lua_cheia",
                        "ancestrais",
                        "presente",
                        "futuro"
                    ],
                    "description": "Momento do ciclo temporal associado"
                },
                "conexoes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "IDs de outros saberes conectados"
                },
                "valorizacoes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Emails de usuários que valorizaram este saber",
                    "default": []
                },
                "compartilhamentos": {
                    "type": "integer",
                    "description": "Número de vezes que foi compartilhado",
                    "default": 0
                }
            },
            "required": [
                "titulo",
                "tipo",
                "territorio",
                "guardiao"
            ],
            "rls": {
                "read": {},
                "write": {
                    "$or": [
                        {
                            "created_by": "{{user.email}}"
                        },
                        {
                            "user_condition": {
                                "role": "admin"
                            }
                        }
                    ]
                }
            }
        }
    ],
    "comunidades": [
        {
            "name": "Comunidade",
            "type": "object",
            "properties": {
                "nome": {
                    "type": "string",
                    "description": "Nome da comunidade"
                },
                "tipo_territorio": {
                    "type": "string",
                    "enum": [
                        "quilombo",
                        "aldeia",
                        "periferia",
                        "floresta",
                        "campo",
                        "cidade",
                        "rio",
                        "montanha"
                    ],
                    "description": "Tipo de território"
                },
                "localizacao": {
                    "type": "string",
                    "description": "Localização geográfica"
                },
                "regioes": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "nome": {
                                "type": "string",
                                "description": "Nome da região (ex: Norte de Minas, Vale do Jequitinhonha)"
                            },
                            "cidade": {
                                "type": "string",
                                "description": "Cidade"
                            },
                            "estado": {
                                "type": "string",
                                "description": "Estado"
                            },
                            "latitude": {
                                "type": "number",
                                "description": "Coordenada latitude"
                            },
                            "longitude": {
                                "type": "number",
                                "description": "Coordenada longitude"
                            }
                        }
                    },
                    "description": "Regiões onde a comunidade está presente",
                    "default": []
                },
                "descricao": {
                    "type": "string",
                    "description": "Descrição da comunidade"
                },
                "liderancas": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Nomes das lideranças comunitárias"
                },
                "saberes_principais": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Principais saberes da comunidade"
                },
                "imagem_territorio": {
                    "type": "string",
                    "description": "Imagem representativa do território"
                },
                "contato": {
                    "type": "string",
                    "description": "Forma de contato com a comunidade"
                }
            },
            "required": [
                "nome",
                "tipo_territorio",
                "localizacao"
            ]
        }
    ],
    "comunidadesVirtuais": [
        {
            "name": "ComunidadeVirtual",
            "type": "object",
            "properties": {
                "nome": {
                    "type": "string",
                    "description": "Nome da comunidade virtual"
                },
                "descricao": {
                    "type": "string",
                    "description": "Descrição e propósito da comunidade"
                },
                "tipo": {
                    "type": "string",
                    "enum": [
                        "aberta",
                        "restrita",
                        "tematica"
                    ],
                    "default": "aberta",
                    "description": "Tipo de comunidade"
                },
                "criador_email": {
                    "type": "string",
                    "description": "Email do criador da comunidade"
                },
                "membros": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Emails dos membros da comunidade",
                    "default": []
                },
                "imagem_url": {
                    "type": "string",
                    "description": "Imagem da comunidade"
                },
                "temas_principais": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Principais temas da comunidade",
                    "default": []
                },
                "comunidade_padrao": {
                    "type": "boolean",
                    "default": false,
                    "description": "Indica se é a comunidade padrão para novos membros"
                }
            },
            "required": [
                "nome",
                "descricao",
                "criador_email"
            ]
        }
    ],
    "cartas": [
        {
            "name": "CartaAberta",
            "type": "object",
            "properties": {
                "titulo": {
                    "type": "string",
                    "description": "Título da carta aberta"
                },
                "conteudo": {
                    "type": "string",
                    "description": "Conteúdo completo da carta"
                },
                "autor_nome": {
                    "type": "string",
                    "description": "Nome do autor"
                },
                "autor_email": {
                    "type": "string",
                    "description": "Email do autor (do usuário)"
                },
                "comunidade_origem": {
                    "type": "string",
                    "description": "Comunidade ou povo de origem do autor"
                },
                "territorio_origem": {
                    "type": "string",
                    "description": "Território de origem"
                },
                "destinatarios": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Para quem a carta é direcionada",
                    "default": []
                },
                "temas": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Temas abordados na carta",
                    "default": []
                },
                "visibilidade": {
                    "type": "string",
                    "enum": [
                        "publica",
                        "comunidade",
                        "privada"
                    ],
                    "default": "publica",
                    "description": "Quem pode ver a carta"
                },
                "status": {
                    "type": "string",
                    "enum": [
                        "rascunho",
                        "publicada",
                        "arquivada"
                    ],
                    "default": "rascunho",
                    "description": "Status da carta"
                },
                "apoios": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "description": "Emails de quem apoiou a carta",
                    "default": []
                },
                "data_publicacao": {
                    "type": "string",
                    "format": "date",
                    "description": "Data de publicação da carta"
                }
            },
            "required": [
                "titulo",
                "conteudo",
                "autor_email"
            ]
        }
    ],
    "usuarios": [
        {
            "id": 1,
            "full_name": "Guardião Raiz",
            "tipo_participante": "guardiao",
            "onboarding_completo": true
        },
                {
            "id": 2,
            "full_name": "teste",
            "tipo_participante": "teste",
            "onboarding_completo": true
        }
    ]
}